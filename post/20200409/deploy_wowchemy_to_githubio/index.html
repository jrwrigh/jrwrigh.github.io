<!DOCTYPE html>
<!-- This site was created with Wowchemy. https://www.wowchemy.com -->
<!-- Last Published: October 2, 2023 --><html lang="en-us" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.7.0 for Hugo" />
  

  
  












  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Cutive+Mono&family=Lora:wght@400;700&family=Roboto:wght@400;700&display=swap&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cutive+Mono&family=Lora:wght@400;700&family=Roboto:wght@400;700&display=swap&display=swap" media="print" onload="this.media='all'">
    
  

  
  

  
  
    
    <script src="/js/mathjax-config.js"></script>
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.16f785cdb553c8c4431db6775122af35.css" media="print" onload="this.media='all'">

  
  
  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.2/css/academicons.min.css" integrity="sha512-KlJCpRsLf+KKu2VQa5vmRuClRFjxc5lXO03ixZt82HZUk41+1I0bD8KBSA0fY290ayMfWYI9udIqeOWSu1/uZg==" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    
    
    
    
      
      
    
    
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.02ce5d00cc66d23e3064bd7ca59db32c.css" />

  
  
  
  
  
  
  
    
    
    <link rel="stylesheet" href="/css/libs/chroma/github-light.min.css" title="hl-light" media="print" onload="this.media='all'" >
    <link rel="stylesheet" href="/css/libs/chroma/dracula.min.css" title="hl-dark" media="print" onload="this.media='all'" disabled>
  

  
  






<script async src="https://www.googletagmanager.com/gtag/js?id=UA-162278003-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
      dataLayer.push(arguments);
  }

  function trackOutboundLink(url, target) {
    gtag('event', 'click', {
         'event_category': 'outbound',
         'event_label': url,
         'transport_type': 'beacon',
         'event_callback': function () {
           if (target !== '_blank') {
             document.location = url;
           }
         }
    });
    console.debug("Outbound link clicked: " + url);
  }

  function onClickCallback(event) {
    if ((event.target.tagName !== 'A') || (event.target.host === window.location.host)) {
      return;
    }
    trackOutboundLink(event.target, event.target.getAttribute('target'));  
  }

  gtag('js', new Date());
  gtag('config', 'UA-162278003-2', { 'anonymize_ip': true });
  gtag('set', {'cookie_flags': 'SameSite=None;Secure'});

  
  document.addEventListener('click', onClickCallback, false);
</script>























  
  
  






  <meta name="author" content="James Wright" />





  

<meta name="description" content="This tutorial goes over how to take a website built using Hugo and Wowchemy (formerly Academic) and host that website using GitHub Pages. More specifically, it goes over how to automate the deployment of a Hugo site using GitHub Actions. This website you&#39;re viewing right now is run using this exact process." />



<link rel="alternate" hreflang="en-us" href="https://www.jameswright.xyz/post/20200409/deploy_wowchemy_to_githubio/" />
<link rel="canonical" href="https://www.jameswright.xyz/post/20200409/deploy_wowchemy_to_githubio/" />



  <link rel="manifest" href="/manifest.webmanifest" />



<link rel="icon" type="image/png" href="/media/icon_huda118e9b915acb252802967a5464c294_334187_32x32_fill_lanczos_center_3.png" />
<link rel="apple-touch-icon" type="image/png" href="/media/icon_huda118e9b915acb252802967a5464c294_334187_180x180_fill_lanczos_center_3.png" />

<meta name="theme-color" content="#1565c0" />










  
  






<meta property="twitter:card" content="summary" />
<meta property="twitter:image" content="https://www.jameswright.xyz/media/icon_huda118e9b915acb252802967a5464c294_334187_512x512_fill_lanczos_center_3.png" />
<meta property="og:site_name" content="James Wright" />
<meta property="og:url" content="https://www.jameswright.xyz/post/20200409/deploy_wowchemy_to_githubio/" />
<meta property="og:title" content="Automate Deployment of Wowchemy Website onto GitHub Pages | James Wright" />
<meta property="og:description" content="This tutorial goes over how to take a website built using Hugo and Wowchemy (formerly Academic) and host that website using GitHub Pages. More specifically, it goes over how to automate the deployment of a Hugo site using GitHub Actions. This website you&#39;re viewing right now is run using this exact process." /><meta property="og:image" content="https://www.jameswright.xyz/media/icon_huda118e9b915acb252802967a5464c294_334187_512x512_fill_lanczos_center_3.png" /><meta property="og:locale" content="en-us" />

  
    <meta
      property="article:published_time"
      content="2020-04-09T20:04:51-06:00"
    />
  
  
    <meta property="article:modified_time" content="2022-02-08T10:34:48-07:00">
  






    






  




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.jameswright.xyz/post/20200409/deploy_wowchemy_to_githubio/"
  },
  "headline": "Automate Deployment of Wowchemy Website onto GitHub Pages",
  
  "datePublished": "2020-04-09T20:04:51-06:00",
  "dateModified": "2022-02-08T10:34:48-07:00",
  
  "author": {
    "@type": "Person",
    "name": "James Wright"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "James Wright",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.jameswright.xyz/media/icon_huda118e9b915acb252802967a5464c294_334187_192x192_fill_lanczos_center_3.png"
    }
  },
  "description": "This tutorial goes over how to take a website built using Hugo and Wowchemy (formerly Academic) and host that website using GitHub Pages. More specifically, it goes over how to automate the deployment of a Hugo site using GitHub Actions. This website you're viewing right now is run using this exact process."
}
</script>

  

  




  
  
  

  
  

  
  
  
  
  
    <script src="https://cdn.jsdelivr.net/gh/osano/cookieconsent@3.1.1/build/cookieconsent.min.js" integrity="sha512-yXXqOFjdjHNH1GND+1EO0jbvvebABpzGKD66djnUfiKlYME5HGMUJHoCaeE4D5PTG2YsSJf6dwqyUUvQvS0vaA==" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/osano/cookieconsent@3.1.1/build/cookieconsent.min.css" integrity="sha512-LQ97camar/lOliT/MqjcQs5kWgy6Qz/cCRzzRzUCfv0fotsCTC9ZHXaPQmJV8Xu/PVALfJZ7BDezl5lW3/qBxg==" crossorigin="anonymous">
  
  <script>
  window.addEventListener("load", function(){
    window.cookieconsent.initialise({
      "palette": {
        "popup": {
          "background": "#1565c0",
          "text": "rgb(255, 255, 255)"
        },
        "button": {
          "background": "rgb(255, 255, 255)",
          "text": "#1565c0"
        }
      },
      "theme": "classic",
      "content": {
        "message": "This website uses cookies to ensure you get the best experience on our website.",
        "dismiss": "Got it!",
        "link": "Learn more",
        "href": "/privacy/"
      }
    })});
  </script>



  
  <title>Automate Deployment of Wowchemy Website onto GitHub Pages | James Wright</title>

  
  
  
  











</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="29cae33254f50a7411cbc6662d24692c" >

  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.387b337e4ba5e4afbc8ee8ed3e8e8941.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      
      

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header header--fixed">
    












<header>
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/">James Wright</a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/">James Wright</a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#about"><span>Home</span></a>
          </li>

          
          

          

          
          
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link  active" href="/post"><span>Posts</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="/projects"><span>Projects</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="/publication"><span>Publications</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="/resources"><span>Resources</span></a>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
          
        

        
        
        
        <li class="nav-item">
          <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        
        
        

        
        

      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    <article class="article">

  













  

  
  
  
<div class="article-container pt-3">
  <h1>Automate Deployment of Wowchemy Website onto GitHub Pages</h1>

  

  
    


<div class="article-metadata">

  
  
  
  
  <div>
    

  <span class="author-highlighted">
      <a href="/authors/admin/">James Wright</a></span>
  </div>
  
  

  
  <span class="article-date">
    
    
      
          Last updated on
      
    
    Feb 8, 2022
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    7 min read
  </span>
  

  
  
  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="/categories/tutorials/">Tutorials</a></span>
  

</div>

    





  
</div>



  <div class="article-container">

    <div class="article-style">
      <div class="alert alert-note">
  <div>
    Hugo Academic theme has now changed it&rsquo;s name to Wowchemy.  I&rsquo;ve updated the
names and links in the post to reflect the change.
  </div>
</div>
<div class="alert alert-warning">
  <div>
    <p>This tutorial will assume that</p>
<ol>
<li>You have a repository containing the Wowchemy source code</li>
<li>You have a GitHub Pages repository</li>
<li>You have a general grasp of GitHub and git concepts (repos, pushing, etc.)</li>
</ol>
<p>Resources for creating your Wowchemy website can be found at the <a href="https://wowchemy.com/docs/" target="_blank" rel="noopener">Wowchemy
website</a>. For setting up your own (free) GitHub
Pages repository, see the <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages Website</a>. If
you have neither of these pre-requisites done, go get them done and come back
here.  Don&rsquo;t worry, I can wait. 😉</p>
  </div>
</div>
<h2 id="tldr">tl;dr <a href="#tldr" class="hanchor" ariaLabel="Anchor">#&#xFE0E;</a> </h2>
<ol>
<li>Copy and edit <a href="#github-action-workflow">Workflow YAML file</a></li>
<li>Put Workflow YAML file in <code>.github/workflows/</code> directory in Source repo</li>
<li><a href="#generate-personal-access-token">Create personal access token</a></li>
<li><a href="#create-secret-in-source-repository">Store personal access token in secret in Source repo</a></li>
<li>Push Source repo (with the Workflow YAML file)</li>
<li>Watch GitHub do all the work for you</li>
</ol>
<div class="alert alert-note">
  <div>
    <p>I talk about two primary repositories in this tutorial: a &ldquo;Source&rdquo; repo and a
&ldquo;Pages&rdquo; repo.</p>
<ul>
<li><strong>Source Repo</strong>: Contains the Hugo source files (markdown, config, etc.)</li>
<li><strong>Pages Repo</strong>: The directory from which a GitHub Pages website is deployed</li>
</ul>
  </div>
</div>
<h2 id="overview">Overview <a href="#overview" class="hanchor" ariaLabel="Anchor">#&#xFE0E;</a> </h2>
<p>This tutorial goes over how to take a website built using Wowchemy and
host that website using a GitHub Pages website. This website you&rsquo;re viewing
right now is run using this exact process. The beauty of hosting it on GitHub
Pages is that:</p>
<ol>
<li>It is free</li>
<li>You can setup a custom domain name with it easily</li>
<li>It integrates well with automated deployment</li>
</ol>
<p>By default, GH Pages will suggest you use Jekyll for creating the website. I
have nothing against using Jekyll to build a website, but the Wowchemy
theme is great for, well, academics and researchers.</p>
<p>The way GitHub Pages sites work is that, assuming Jekyll files are not present,
they will simply display any static website that is present in the repository.
Thus, if we take the static site files that Hugo generates and then place them
in the Pages repository, voila! We have a Hugo site deployed on GH Pages.</p>
<p>Technically you could do this process manually; on your local machine generate
the static site files in the Hugo Source repository, copy them to the GH Pages
repository, and <code>git push</code> that. But that&rsquo;s a hassle <em>and</em> there&rsquo;s a better
way: GitHub Actions.</p>
<p>Using GitHub Actions (GitHub&rsquo;s flavor of CI/CD automation), we can automate the
process as follows:</p>
<ol>
<li>Push local changes to your Source repo&rsquo;s <code>master</code> branch</li>
<li>A GitHub Action Workflow will then:
<ol>
<li>Clone the Source repo</li>
<li>Build the Hugo website</li>
<li>Clone the GH Pages repo</li>
<li>Copy the static site files from Source repo to Pages repo</li>
<li>Push those changes to the Source repo</li>
</ol>
</li>
<li>GitHub Pages publishes the static files that were pushed to the Pages repo</li>
</ol>
<h2 id="github-action-workflow">GitHub Action Workflow <a href="#github-action-workflow" class="hanchor" ariaLabel="Anchor">#&#xFE0E;</a> </h2>
<p>So how do we do this? Well it all relies on GitHub Actions to do all the work.
We use GitHub Actions by defining a Workflow in the form of a <code>yaml</code> file in
the <code>.github/workflows</code> directory of the repository. For our present use case,
the file looks like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">name</span>: <span style="color:#ae81ff">Build and Deploy</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">on</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">push</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">branches</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">master</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">jobs</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">build</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">runs-on</span>: <span style="color:#ae81ff">ubuntu-latest</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">steps</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Checkout master</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">actions/checkout@v1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">with</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">submodules</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Hugo Deploy GitHub Pages</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">benmatselby/hugo-deploy-gh-pages@master</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">env</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">HUGO_VERSION</span>: <span style="color:#ae81ff">0.68.3</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">TARGET_REPO</span>: <span style="color:#ae81ff">jrwrigh/jrwrigh.github.io</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">TOKEN</span>: <span style="color:#ae81ff">${{ secrets.TOKEN }}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">CNAME</span>: <span style="color:#ae81ff">www.jameswright.xyz</span>
</span></span></code></pre></div><p>I&rsquo;ll go over the different parts, but you can find more details about GitHub
Actions <a href="https://help.github.com/en/actions/getting-started-with-github-actions" target="_blank" rel="noopener">GitHub Documentation
here</a>
and about the syntax of the Workflow <code>yaml</code> file
<a href="https://help.github.com/en/actions/reference/workflow-syntax-for-github-actions" target="_blank" rel="noopener">here</a></p>
<h3 id="name">Name <a href="#name" class="hanchor" ariaLabel="Anchor">#&#xFE0E;</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">name</span>: <span style="color:#ae81ff">Build and Deploy</span>
</span></span></code></pre></div><p>This is simply the name of the GitHub Workflow that you&rsquo;re going to make. This is
what will show up in the GitHub Workflows dashboard of the repository.</p>
<h3 id="trigger">Trigger <a href="#trigger" class="hanchor" ariaLabel="Anchor">#&#xFE0E;</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">on</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">push</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">branches</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">master</span>
</span></span></code></pre></div><p>This tells GitHub when to run the Workflow. Here, we want it to trigger on a push
to the master branch.</p>
<h3 id="build-job">Build Job <a href="#build-job" class="hanchor" ariaLabel="Anchor">#&#xFE0E;</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">jobs</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">build</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">runs-on</span>: <span style="color:#ae81ff">ubuntu-latest</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">steps</span>:
</span></span></code></pre></div><p>This section starts the declaration of what the Workflow should actually do.
A Workflow is made up of individual <code>jobs</code>. Here, we only need one job: <code>build</code>.</p>
<p>First, the operating system is specified for the <code>build</code> job. The proceeding
steps rely on access to <code>apt-get</code> to install the required software to build the
static site files, so Ubuntu is chosen.</p>
<p>After this, the <code>steps</code> for the <code>build</code> job are listed. These are what define
what the job actually does. These steps can be defined different ways, but
we&rsquo;re going to be using only Actions. Actions are just predefined scripts that
are published on GitHub&rsquo;s marketplace (though you can reference unpublished
ones if they&rsquo;re in a public repository).</p>
<h3 id="checkout-action">Checkout Action <a href="#checkout-action" class="hanchor" ariaLabel="Anchor">#&#xFE0E;</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Checkout master</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">actions/checkout@v1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">with</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">submodules</span>: <span style="color:#66d9ef">true</span>
</span></span></code></pre></div><p>This simply clones (or checkout in GitHub&rsquo;s nomenclature) the Source repository
to the container. It is one of GitHub&rsquo;s default actions.</p>
<p><strong>Note:</strong> The <code>submodules: true</code> is quite important, as the Wowchemy theme
runs as a submodule in your Source repository. If that wasn&rsquo;t set, Hugo
wouldn&rsquo;t be able to build the site.</p>
<h3 id="build-and-deploy-action">Build and Deploy Action <a href="#build-and-deploy-action" class="hanchor" ariaLabel="Anchor">#&#xFE0E;</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Hugo Deploy GitHub Pages</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">benmatselby/hugo-deploy-gh-pages@master</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">env</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">HUGO_VERSION</span>: <span style="color:#ae81ff">0.68.3</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">TARGET_REPO</span>: <span style="color:#ae81ff">jrwrigh/jrwrigh.github.io</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">TOKEN</span>: <span style="color:#ae81ff">${{ secrets.TOKEN }}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">CNAME</span>: <span style="color:#ae81ff">www.jameswright.xyz</span>
</span></span></code></pre></div><p>And here is where the magic happens. To actually deploy the Hugo site to the
GitHub Pages repository, we use <a href="https://benmatselby.dev/" target="_blank" rel="noopener">Ben Selby</a>&rsquo;s <a href="https://github.com/benmatselby/hugo-deploy-gh-pages/" target="_blank" rel="noopener">Hugo
Deployment GitHub
Action</a>. This will:</p>
<ol>
<li>build the Hugo site,</li>
<li>clone the GH Pages repository,</li>
<li>copy the static site files to the Pages repository, and</li>
<li>finally push those changes.</li>
</ol>
<p>There are a few options for this Action, which are all set with environment
variables (hence the <code>env:</code>). In detail, the options are:</p>
<ol>
<li><code>HUGO_VERSION</code>
<ul>
<li>Version of Hugo used to build the website</li>
<li>Can usually just be set to whatever version you use on your local machine</li>
</ul>
</li>
<li><code>TARGET_REPO</code>
<ul>
<li>The repository were the static site files should be copied/pushed to.</li>
<li>This would be the Pages repository, in the format of <code>[User]/[Repository Name]</code></li>
</ul>
</li>
<li><code>TOKEN</code>
<ul>
<li>The GitHub personal access token (PAT) for your Pages repository to push changes.</li>
<li>Further discussed in the <a href="#secret-token-setup">Secret Token Setup</a> section.</li>
</ul>
</li>
<li><code>CNAME</code>
<ul>
<li>The contents of this variable are copied into a file called <code>CNAME</code> and
placed in the Pages repo.</li>
<li>The <code>CNAME</code> file is used if you setup a custom domain name for your website.</li>
<li>See <a href="https://help.github.com/en/github/working-with-github-pages/configuring-a-custom-domain-for-your-github-pages-site" target="_blank" rel="noopener">GitHub documentation</a>
for more info on custom domain names for GitHub Pages.</li>
</ul>
</li>
</ol>
<h2 id="secret-token-setup">Secret Token Setup <a href="#secret-token-setup" class="hanchor" ariaLabel="Anchor">#&#xFE0E;</a> </h2>
<p>In order to push to the GH Pages repository, the GitHub Action needs to have
appropriate credentials. This is done through a personal access token (PAT),
which is a cryptographic key that can be used instead of login credentials for
performing user-restricted operations on a remote repository (such as <code>git push</code>).</p>
<p>Since this replaces login information, it&rsquo;s probably obvious that the PAT is
very sensitive for privacy reasons. So to allow GitHub Actions to have access
to this token without having it publicly published, we store it as a &ldquo;secret&rdquo;
in the Source repo.</p>
<h3 id="generate-personal-access-token">Generate Personal Access Token <a href="#generate-personal-access-token" class="hanchor" ariaLabel="Anchor">#&#xFE0E;</a> </h3>
<p>Detailed documentation for generating a personal access token (PAT) for
yourself can be <a href="https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line" target="_blank" rel="noopener">found
here</a>.
I recommend following the steps listed in the documentation to generate the
PAT. To make the PAT valid for our purposes, you need to set the access
settings to be full for the repositories as seen in the image below:</p>
<p>















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="./token-settings.png" alt="Settings for Token Setup" loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<p>Once you hit generate, keep an eye on the alphanumeric string that is
displayed. That&rsquo;s the PAT.
















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="./copy-token.png" alt="Copy Token" loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<p>Copy this string somewhere safe for right now. Once the PAT is put into a
secret and you&rsquo;ve verified that everything works, I&rsquo;d recommend you <em><strong>don&rsquo;t</strong></em>
store the key anywhere. If for whatever reason you end up needing a PAT later,
it&rsquo;s easy to create a new one.</p>
<h3 id="create-secret-in-source-repository">Create Secret in Source Repository <a href="#create-secret-in-source-repository" class="hanchor" ariaLabel="Anchor">#&#xFE0E;</a> </h3>
<p>Now that we have the PAT, we need to let the GH Action have access to it via
the Source repo&rsquo;s secrets. I recommend following GitHub&rsquo;s documentation on
<a href="https://help.github.com/en/actions/configuring-and-managing-workflows/creating-and-storing-encrypted-secrets#creating-encrypted-secrets" target="_blank" rel="noopener">creating a secret for GitHub
Actions</a>.</p>
<p>The secret creation screen looks like this, where &ldquo;Value&rdquo; is where you copy
your PAT to:</p>
<p>















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="./secret-setup.png" alt="GitHub Repository Secret creation setup" loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<p>Note that the name setup above must be the same as that used in the Workflow
<code>yaml</code> script:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>        <span style="color:#f92672">TOKEN</span>: <span style="color:#ae81ff">${{ secrets.EXAMPLE_TOKEN }}</span>
</span></span></code></pre></div><h2 id="wrapping-up">Wrapping Up <a href="#wrapping-up" class="hanchor" ariaLabel="Anchor">#&#xFE0E;</a> </h2>
<p>Now that you have your secret token setup and your Workflow YAML file
in place, you&rsquo;re all set for auto-publishing. Your Hugo site on GitHub Pages.</p>
<p>If you find any inaccurate information on the page, feel free to hit the &ldquo;Edit
Page&rdquo; command below and submit a pull request with updates. If you have any
questions about getting this setup, feel free to contact me. I&rsquo;m not an expert
by any means, but I&rsquo;ll do my best.</p>

    </div>

    






  
  

<p class="edit-page">
  <a href="https://github.com/jrwrigh/jameswright.xyz_source/edit/master/content/post/deploy-hugo-academic-using-githubio/index.md">
    <i class="fas fa-pen pr-2"></i>Edit this page
  </a>
</p>




<div class="article-tags">
  
  <a class="badge badge-light" href="/tags/hugo-academic/">Hugo Academic</a>
  
  <a class="badge badge-light" href="/tags/github-pages/">GitHub Pages</a>
  
  <a class="badge badge-light" href="/tags/github-actions/">GitHub Actions</a>
  
  <a class="badge badge-light" href="/tags/ci/cd/">CI/CD</a>
  
  <a class="badge badge-light" href="/tags/hugo/">Hugo</a>
  
  <a class="badge badge-light" href="/tags/wowchemy/">Wowchemy</a>
  
</div>



<div class="share-box">
  <ul class="share">
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fwww.jameswright.xyz%2Fpost%2F20200409%2Fdeploy_wowchemy_to_githubio%2F&amp;text=Automate&#43;Deployment&#43;of&#43;Wowchemy&#43;Website&#43;onto&#43;GitHub&#43;Pages" target="_blank" rel="noopener" class="share-btn-twitter" aria-label="twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fwww.jameswright.xyz%2Fpost%2F20200409%2Fdeploy_wowchemy_to_githubio%2F&amp;t=Automate&#43;Deployment&#43;of&#43;Wowchemy&#43;Website&#43;onto&#43;GitHub&#43;Pages" target="_blank" rel="noopener" class="share-btn-facebook" aria-label="facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
        
      
      <li>
        <a href="mailto:?subject=Automate%20Deployment%20of%20Wowchemy%20Website%20onto%20GitHub%20Pages&amp;body=https%3A%2F%2Fwww.jameswright.xyz%2Fpost%2F20200409%2Fdeploy_wowchemy_to_githubio%2F" target="_blank" rel="noopener" class="share-btn-email" aria-label="envelope">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https%3A%2F%2Fwww.jameswright.xyz%2Fpost%2F20200409%2Fdeploy_wowchemy_to_githubio%2F&amp;title=Automate&#43;Deployment&#43;of&#43;Wowchemy&#43;Website&#43;onto&#43;GitHub&#43;Pages" target="_blank" rel="noopener" class="share-btn-linkedin" aria-label="linkedin-in">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://web.whatsapp.com/send?text=Automate&#43;Deployment&#43;of&#43;Wowchemy&#43;Website&#43;onto&#43;GitHub&#43;Pages%20https%3A%2F%2Fwww.jameswright.xyz%2Fpost%2F20200409%2Fdeploy_wowchemy_to_githubio%2F" target="_blank" rel="noopener" class="share-btn-whatsapp" aria-label="whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https%3A%2F%2Fwww.jameswright.xyz%2Fpost%2F20200409%2Fdeploy_wowchemy_to_githubio%2F&amp;title=Automate&#43;Deployment&#43;of&#43;Wowchemy&#43;Website&#43;onto&#43;GitHub&#43;Pages" target="_blank" rel="noopener" class="share-btn-weibo" aria-label="weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>











  
  
    



  
  
  
    
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <a href="https://www.jameswright.xyz/"><img class="avatar mr-3 avatar-square" src="/authors/admin/avatar_hu8685ca00ce77b7daa12767e3ee052ec4_1910556_270x270_fill_q90_lanczos_center.jpg" alt="James Wright"></a>
    

    <div class="media-body">
      <h5 class="card-title"><a href="https://www.jameswright.xyz/">James Wright</a></h5>
      <h6 class="card-subtitle">PhD Student, Aerospace Engineering</h6>
      <p class="card-text">I&rsquo;m interested in CFD, finite-element methods, HPC programming, motorsports, and disc golf.</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
    <li>
      <a href="mailto:james@jameswright.xyz" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.com/citations?user=d6opMNsAAAAJ&amp;hl=en" target="_blank" rel="noopener">
        <i class="ai ai-google-scholar"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://linkedin.com/in/jameswrightiii" target="_blank" rel="noopener">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/jrwrigh" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://orcid.org/0000-0001-7273-049X" target="_blank" rel="noopener">
        <i class="ai ai-orcid"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://publons.com/researcher/3368218/james-wright/" target="_blank" rel="noopener">
        <i class="ai ai-publons"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>


  







  
  
  

  

  
  <section id="comments">
    
  
  <script src="https://giscus.app/client.js"
          data-repo="jrwrigh/jameswright.xyz_source"
          data-repo-id="MDEwOlJlcG9zaXRvcnkyMjQ3MDg3OTY="
          data-category="Announcements"
          data-category-id=""
          data-mapping="pathname"
          data-strict="0"
          data-reactions-enabled="1"
          data-emit-metadata="0"
          data-input-position="top"
          data-theme="dark_dimmed"
          data-lang="en"
          data-loading="lazy"
          crossorigin="anonymous"
          async>
  </script>


  </section>
  







  
  




  </div>
</article>
  </div>

  <div class="page-footer">
    
    
    <div class="container">
      <footer class="site-footer">

  












  
  
  
  
  


<p class="powered-by">
  
  <a href="/privacy/">Privacy Policy</a>
  
  
</p>












  
  
  

  
  
  
    
  

  

  
  <p class="powered-by copyright-license-text">
    © 2023 James Wright. This work is licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0" rel="noopener noreferrer" target="_blank">CC BY SA 4.0</a>
  </p>
  

  <p class="powered-by footer-license-icons">
    <a href="https://creativecommons.org/licenses/by-sa/4.0" rel="noopener noreferrer" target="_blank" aria-label="Creative Commons">
      <i class="fab fa-creative-commons fa-2x" aria-hidden="true"></i>
      <i class="fab fa-creative-commons-by fa-2x" aria-hidden="true"></i>
      
      
        <i class="fab fa-creative-commons-sa fa-2x" aria-hidden="true"></i>
      
    </a>
  </p>





  <p class="powered-by">
    
    
    
      
      
      
      
      
      
      Published with <a href="https://wowchemy.com/?utm_campaign=poweredby" target="_blank" rel="noopener">Wowchemy</a> — the free, <a href="https://github.com/wowchemy/wowchemy-hugo-themes" target="_blank" rel="noopener">open source</a> website builder that empowers creators.
    
  </p>
</footer>

    </div>
    
  </div>

  


<script src="/js/vendor-bundle.min.46271ef31da3f018e9cd1b59300aa265.js"></script>




  

  
  

  













  
  <script id="search-hit-fuse-template" type="text/x-template">
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script>
  
    <script src="https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js" integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
  












  
  
  
  
  
  
  







<script id="page-data" type="application/json">{"use_headroom":true}</script>



  <script src="/js/wowchemy-headroom.db4755770454eb63685f8de785c0a172.js" type="module"></script>









  
  


<script src="/en/js/wowchemy.min.8621d706896ab6d11dd8fd7042e20931.js"></script>







  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        
        <pre><code></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>


  <script src="/js/wowchemy-publication.68f8d7090562ca65fc6d3cb3f8f2d2cb.js" type="module"></script>


















</body>
</html>
